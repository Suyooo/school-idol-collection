<%- include("../partials/header", {"title": "Apply Pattern", "styles": []}); %>
<div class="content">
    <div class="panel">
        <div class="panel-inner">
            <table>
                <thead>
                <tr>
                    <th>Card</th>
                    <th>JPN</th>
                    <th>ENG</th>
                    <th>Apply</th>
                </tr>
                </thead>
                <tbody>
                <% applicable.forEach(function(a) { %>
                    <tr>
                        <% if (a.hasOwnProperty("cardNo")) { %>
                            <th><a href="/card/<%= a.cardNo %>/"><%= a.cardNo %></a></th>
                        <% } else { %>
                            <th><a href="/card/<%= a.firstCardNo %>/">Group #<%= a.groupId %></a></th>
                        <% } %>
                        <td><%= a.skillJpn %></td>
                        <td><%= a.skillEng %></td>
                        <td><input class="assign" type="checkbox" data-skill="<%= a.skillId %>"
                                   data-line="<%= a.line %>"></td>
                    </tr>
                <% }); %>
                <tr>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td><input id="all" type="checkbox"> <label for="all">All</label></td>
                </tr>
                </tbody>
            </table>
            <a class="button button-primary" id="submit" style="float: right">Submit</a>
            <a class="button button-primary" id="edit"
               href="/pattern/edit/<%- id %><% if (applicable.length > 0 && applicable[0].hasOwnProperty("cardNo")) { %>/<%- applicable[0].cardNo %>/<%- applicable[0].line %> <% } %>"
               style="float: left">Edit</a>
        </div>
    </div>
</div>
<script>const patternid = <%= id %>;</script>
<%- include("../partials/footer", {"jquery": true, "scripts": ["pattern/apply"]}); %>